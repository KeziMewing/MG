-- Anti-AFK
local vu = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    vu:CaptureController()
    vu:ClickButton2(Vector2.new())
end)

-- Rayfield Library
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- UI Setup
local Window = Rayfield:CreateWindow({
    Name = "KeziHub V1.0",
    LoadingTitle = "Kezi Specialist HUB",
    LoadingSubtitle = "by KezTeam",
    Theme = "AmberGlow",
    ConfigurationSaving = {
        Enabled = false,
        FolderName = "KezHub",
        FileName = "KeziHubSettings"
    }
})

-- Tab for Minigames
local MinigamesTab = Window:CreateTab("Minigames", 4483362458) -- Title and icon

-- Button to Buy Hiace
MinigamesTab:CreateButton({
    Name = "Buy Car",
    Callback = function()
        local args = {
            [1] = "Buy",
            [2] = "2020Hiace",
            [3] = "White",
            [4] = "Toyota"
        }
        game:GetService("ReplicatedStorage"):WaitForChild("NetworkContainer"):WaitForChild("RemoteFunctions"):WaitForChild("Dealership"):InvokeServer(unpack(args))
    end,
})

-- Adding Win Account Toggle
MinigamesTab:CreateToggle({
   Name = "Win Account",
   CurrentValue = false,
   Flag = "WinAccount", -- Unique identifier
   Callback = function(Value)
       if Value then
           local args = {
               [1] = "Enter",
               [2] = "2020Hiace" -- Replace with correct vehicle name for "Win Account"
           }
           game:GetService("ReplicatedStorage"):WaitForChild("NetworkContainer"):WaitForChild("RemoteEvents"):WaitForChild("Minigames"):FireServer(unpack(args))
       end
   end
})

-- Adding Lose Account Toggle
MinigamesTab:CreateToggle({
   Name = "Lose Account",
   CurrentValue = false,
   Flag = "LoseAccount", -- Unique identifier
   Callback = function(Value)
        if Value then
            -- Character Jump
            local player = game.Players.LocalPlayer
            local humanoid = player.Character:WaitForChild("Humanoid")
            
            while true do
                humanoid.Jump = true
                wait(0.5) -- Adjust delay as needed 

            -- Enter Minigames
            local args = {
                [1] = "Enter",
                [2] = "2021Avanza15CVT" -- Replace with correct vehicle name for "Lose Account"
            }
            game:GetService("ReplicatedStorage"):WaitForChild("NetworkContainer"):WaitForChild("RemoteEvents"):WaitForChild("Minigames"):FireServer(unpack(args))
        end   
    end
})


-- Persisting UI on Character Reset
local ScreenGui = Window:GetGui()
ScreenGui.ResetOnSpawn = false
