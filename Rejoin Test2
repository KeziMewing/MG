-- Auto Rejoin Script for Roblox Private Servers

local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")

-- Function to get the private server ID
local function getPrivateServerId()
    local privateServerId = game.PrivateServerId
    if privateServerId ~= "" then
        print("Private Server ID: " .. privateServerId)
        return privateServerId
    else
        print("Not in a private server.")
        return nil
    end
end

-- Function to rejoin the game
local function rejoinGame(privateServerId)
    local player = Players.LocalPlayer
    local placeId = game.PlaceId  -- The current place ID

    while true do
        wait(5) -- Wait before trying to rejoin
        print("Rejoining private server...")

        -- Attempt to teleport back to the same private server
        TeleportService:Teleport(placeId, player, {privateServerId}) -- Include the private server ID
    end
end

-- Main execution
local privateServerId = getPrivateServerId()  -- Get the private server ID

if privateServerId then
    -- Start the rejoin function only if we have a valid private server ID
    rejoinGame(privateServerId)
end
